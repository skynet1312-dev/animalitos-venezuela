<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pron√≥sticos Animalitos Venezuela</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;

        const animalitos = [
          { numero: '0', nombre: 'Delf√≠n', color: 'bg-blue-500' },
          { numero: '00', nombre: 'Ballena', color: 'bg-blue-500' },
          { numero: '01', nombre: 'Carnero', color: 'bg-amber-600' },
          { numero: '02', nombre: 'Toro', color: 'bg-red-700' },
          { numero: '03', nombre: 'Ciempi√©s', color: 'bg-gray-600' },
          { numero: '04', nombre: 'Alacr√°n', color: 'bg-yellow-600' },
          { numero: '05', nombre: 'Le√≥n', color: 'bg-orange-500' },
          { numero: '06', nombre: 'Rana', color: 'bg-green-600' },
          { numero: '07', nombre: 'Perico', color: 'bg-green-500' },
          { numero: '08', nombre: 'Rat√≥n', color: 'bg-gray-500' },
          { numero: '09', nombre: '√Åguila', color: 'bg-yellow-700' },
          { numero: '10', nombre: 'Tigre', color: 'bg-orange-600' },
          { numero: '11', nombre: 'Gato', color: 'bg-gray-700' },
          { numero: '12', nombre: 'Caballo', color: 'bg-amber-700' },
          { numero: '13', nombre: 'Mono', color: 'bg-amber-500' },
          { numero: '14', nombre: 'Paloma', color: 'bg-gray-400' },
          { numero: '15', nombre: 'Zorro', color: 'bg-orange-700' },
          { numero: '16', nombre: 'Oso', color: 'bg-amber-800' },
          { numero: '17', nombre: 'Pavo', color: 'bg-red-600' },
          { numero: '18', nombre: 'Burro', color: 'bg-gray-600' },
          { numero: '19', nombre: 'Chivo', color: 'bg-amber-600' },
          { numero: '20', nombre: 'Cochino', color: 'bg-pink-400' },
          { numero: '21', nombre: 'Gallo', color: 'bg-red-500' },
          { numero: '22', nombre: 'Camello', color: 'bg-yellow-600' },
          { numero: '23', nombre: 'Cebra', color: 'bg-gray-800' },
          { numero: '24', nombre: 'Iguana', color: 'bg-green-700' },
          { numero: '25', nombre: 'Gallina', color: 'bg-red-400' },
          { numero: '26', nombre: 'Vaca', color: 'bg-amber-500' },
          { numero: '27', nombre: 'Perro', color: 'bg-amber-700' },
          { numero: '28', nombre: 'Zamuro', color: 'bg-gray-900' },
          { numero: '29', nombre: 'Elefante', color: 'bg-gray-600' },
          { numero: '30', nombre: 'Caim√°n', color: 'bg-green-800' },
          { numero: '31', nombre: 'Lapa', color: 'bg-blue-600' },
          { numero: '32', nombre: 'Ardilla', color: 'bg-orange-400' },
          { numero: '33', nombre: 'Pescado', color: 'bg-blue-400' },
          { numero: '34', nombre: 'Venado', color: 'bg-amber-600' },
          { numero: '35', nombre: 'Jirafa', color: 'bg-yellow-500' },
          { numero: '36', nombre: 'Culebra', color: 'bg-green-600' }
        ];

        const horariosLottoactivo = ['08:00 AM', '09:00 AM', '10:00 AM', '11:00 AM', '12:00 PM', '01:00 PM', '02:00 PM', '03:00 PM', '04:00 PM', '05:00 PM', '06:00 PM', '07:00 PM'];
        const horariosGranjita = ['08:00 AM', '09:00 AM', '10:00 AM', '11:00 AM', '12:00 PM', '01:00 PM', '02:00 PM', '03:00 PM', '04:00 PM', '05:00 PM', '06:00 PM', '07:00 PM'];

        function App() {
          const [cantidadJugar, setCantidadJugar] = useState(5);
          const [pronosticos, setPronosticos] = useState([]);
          const [sorteo, setSorteo] = useState('lottoactivo');
          const [vistaActual, setVistaActual] = useState('pronosticos');
          const [resultados, setResultados] = useState([]);
          const [nuevoResultado, setNuevoResultado] = useState({
            fecha: new Date().toISOString().split('T')[0],
            sorteo: 'lottoactivo',
            horario: '08:00 AM',
            numero: '00'
          });
          const [periodoEstadistica, setPeriodoEstadistica] = useState('mes');
          const [fechaBusqueda, setFechaBusqueda] = useState('');

          useEffect(() => {
            const datos = localStorage.getItem('resultados-animalitos');
            if (datos) setResultados(JSON.parse(datos));
          }, []);

          const guardarResultados = (nuevos) => {
            localStorage.setItem('resultados-animalitos', JSON.stringify(nuevos));
            setResultados(nuevos);
          };

          const agregarResultado = () => {
            const nuevo = { ...nuevoResultado, id: Date.now() };
            guardarResultados([...resultados, nuevo]);
            setNuevoResultado({ ...nuevoResultado, numero: '00' });
          };

          const eliminarResultado = (id) => {
            guardarResultados(resultados.filter(r => r.id !== id));
          };

          const generarPronosticos = () => {
            const shuffled = [...animalitos].sort(() => Math.random() - 0.5);
            setPronosticos(shuffled.slice(0, cantidadJugar));
          };

          const obtenerResultadosFiltrados = () => {
            const ahora = new Date();
            const hoy = new Date(ahora.getFullYear(), ahora.getMonth(), ahora.getDate());
            return resultados.filter(r => {
              const fecha = new Date(r.fecha);
              if (periodoEstadistica === 'dia') return fecha >= hoy;
              if (periodoEstadistica === 'semana') {
                const semana = new Date(hoy);
                semana.setDate(hoy.getDate() - 7);
                return fecha >= semana;
              }
              const mes = new Date(hoy);
              mes.setMonth(hoy.getMonth() - 1);
              return fecha >= mes;
            });
          };

          const calcularEstadisticas = () => {
            const filtrados = obtenerResultadosFiltrados();
            const stats = {};
            animalitos.forEach(a => {
              stats[a.numero] = { ...a, veces: 0, porcentaje: 0 };
            });
            filtrados.forEach(r => {
              if (stats[r.numero]) stats[r.numero].veces++;
            });
            const total = filtrados.length;
            Object.keys(stats).forEach(k => {
              stats[k].porcentaje = total > 0 ? ((stats[k].veces / total) * 100).toFixed(2) : 0;
            });
            return Object.values(stats);
          };

          const generarPrediccion = () => {
            const stats = calcularEstadisticas();
            const ultimos = obtenerResultadosFiltrados().slice(-20);
            return stats.map(a => {
              let peso = parseFloat(a.porcentaje) * 0.4;
              const recientes = ultimos.slice(-10).filter(r => r.numero === a.numero).length;
              peso += (recientes / 10) * 100 * 0.3;
              const dif = (100 / 37) - parseFloat(a.porcentaje);
              if (dif > 0) peso += Math.abs(dif) * 2 * 0.3;
              return { ...a, pesoPrediccion: peso, aparicionesRecientes: recientes };
            }).sort((a, b) => b.pesoPrediccion - a.pesoPrediccion);
          };

          const getTop = () => calcularEstadisticas().sort((a, b) => b.veces - a.veces).slice(0, 10);
          const getMenos = () => calcularEstadisticas().sort((a, b) => a.veces - b.veces).slice(0, 10);
          const getHoy = () => {
            const hoy = new Date().toISOString().split('T')[0];
            return resultados.filter(r => r.fecha === hoy && r.sorteo === sorteo);
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-green-600 to-blue-700 p-4">
              <div className="max-w-4xl mx-auto">
                <div className="bg-white rounded-2xl shadow-2xl p-6 mb-6">
                  <h1 className="text-3xl font-bold text-center mb-2">üéØ Animalitos Venezuela</h1>
                  <p className="text-center text-gray-600 mb-6">Lottoactivo y La Granjita</p>
                  
                  <div className="grid grid-cols-3 sm:grid-cols-6 gap-2 mb-6">
                    {[
                      { v: 'pronosticos', l: 'üé≤ Pron√≥sticos', c: 'green' },
                      { v: 'recomendacion', l: 'ü§ñ IA', c: 'indigo' },
                      { v: 'agregar', l: '‚ûï Agregar', c: 'purple' },
                      { v: 'historico', l: 'üìö Hist√≥rico', c: 'teal' },
                      { v: 'resultados', l: 'üèÜ Hoy', c: 'orange' },
                      { v: 'estadisticas', l: 'üìä Stats', c: 'blue' }
                    ].map(b => (
                      <button key={b.v} onClick={() => setVistaActual(b.v)} 
                        className={`py-3 px-2 rounded-lg font-semibold text-xs ${vistaActual === b.v ? `bg-${b.c}-600 text-white shadow-lg` : 'bg-gray-200 text-gray-700'}`}>
                        {b.l}
                      </button>
                    ))}
                  </div>

                  {vistaActual === 'pronosticos' && (
                    <div className="space-y-4">
                      <div className="grid grid-cols-2 gap-3">
                        <button onClick={() => setSorteo('lottoactivo')} className={`p-3 rounded-lg font-semibold ${sorteo === 'lottoactivo' ? 'bg-green-600 text-white' : 'bg-gray-200'}`}>Lottoactivo</button>
                        <button onClick={() => setSorteo('granjita')} className={`p-3 rounded-lg font-semibold ${sorteo === 'granjita' ? 'bg-blue-600 text-white' : 'bg-gray-200'}`}>La Granjita</button>
                      </div>
                      <div>
                        <label className="block mb-2 font-semibold">¬øCu√°ntos jugar? ({cantidadJugar})</label>
                        <input type="range" min="1" max="10" value={cantidadJugar} onChange={(e) => setCantidadJugar(parseInt(e.target.value))} className="w-full" />
                      </div>
                      <button onClick={generarPronosticos} className="w-full bg-green-600 text-white py-4 rounded-xl font-bold">üé≤ Generar</button>
                      {pronosticos.length > 0 && (
                        <div className="space-y-3 mt-4">
                          {pronosticos.map((a, i) => (
                            <div key={i} className="bg-gray-50 rounded-lg p-4 flex items-center gap-4">
                              <div className={`${a.color} w-14 h-14 rounded-full flex items-center justify-center text-white font-bold text-xl`}>{a.numero}</div>
                              <p className="font-bold text-lg">{a.nombre}</p>
                            </div>
                          ))}
                        </div>
                      )}
                    </div>
                  )}

                  {vistaActual === 'recomendacion' && (
                    <div className="space-y-4">
                      <div className="flex gap-2 justify-center">
                        {['dia', 'semana', 'mes'].map(p => (
                          <button key={p} onClick={() => setPeriodoEstadistica(p)} className={`px-4 py-2 rounded-lg font-semibold ${periodoEstadistica === p ? 'bg-indigo-600 text-white' : 'bg-gray-200'}`}>
                            {p === 'dia' ? 'Hoy' : p === 'semana' ? 'Semana' : 'Mes'}
                          </button>
                        ))}
                      </div>
                      {obtenerResultadosFiltrados().length > 0 ? (
                        <>
                          <div className="bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl p-6 text-white">
                            <h3 className="text-xl font-bold mb-4">üîÆ Predicci√≥n IA</h3>
                            {generarPrediccion().slice(0, 3).map((a, i) => (
                              <div key={a.numero} className="bg-white/20 rounded-lg p-4 mb-3 flex items-center gap-4">
                                <span className="text-2xl">{['ü•á','ü•à','ü•â'][i]}</span>
                                <div className={`${a.color} w-14 h-14 rounded-full flex items-center justify-center font-bold text-xl`}>{a.numero}</div>
                                <div className="flex-1">
                                  <p className="font-bold text-lg">{a.nombre}</p>
                                  <p className="text-sm">{a.veces}x ({a.porcentaje}%)</p>
                                </div>
                                <div className="bg-white/30 rounded px-3 py-2">
                                  <p className="text-xl font-bold">{a.pesoPrediccion.toFixed(1)}</p>
                                  <p className="text-xs">Score</p>
                                </div>
                              </div>
                            ))}
                          </div>
                          <div className="bg-indigo-100 rounded-xl p-4">
                            <h4 className="font-bold mb-3">üìà Top 5 M√°s Frecuentes</h4>
                            {getTop().slice(0, 5).map((a, i) => (
                              <div key={a.numero} className="bg-white rounded p-3 mb-2 flex items-center gap-3">
                                <span className="font-bold">#{i+1}</span>
                                <div className={`${a.color} w-10 h-10 rounded-full flex items-center justify-center text-white font-bold`}>{a.numero}</div>
                                <p className="flex-1 font-semibold">{a.nombre}</p>
                                <span className="font-bold">{a.porcentaje}%</span>
                              </div>
                            ))}
                          </div>
                        </>
                      ) : <p className="text-center text-gray-500 py-12">Agrega resultados primero</p>}
                    </div>
                  )}

                  {vistaActual === 'agregar' && (
                    <div className="space-y-4">
                      <h2 className="text-xl font-bold">‚ûï Agregar Resultado</h2>
                      <input type="date" value={nuevoResultado.fecha} onChange={(e) => setNuevoResultado({...nuevoResultado, fecha: e.target.value})} className="w-full p-3 border-2 rounded-lg" />
                      <select value={nuevoResultado.sorteo} onChange={(e) => setNuevoResultado({...nuevoResultado, sorteo: e.target.value})} className="w-full p-3 border-2 rounded-lg">
                        <option value="lottoactivo">Lottoactivo</option>
                        <option value="granjita">La Granjita</option>
                      </select>
                      <select value={nuevoResultado.horario} onChange={(e) => setNuevoResultado({...nuevoResultado, horario: e.target.value})} className="w-full p-3 border-2 rounded-lg">
                        {(nuevoResultado.sorteo === 'lottoactivo' ? horariosLottoactivo : horariosGranjita).map(h => <option key={h} value={h}>{h}</option>)}
                      </select>
                      <select value={nuevoResultado.numero} onChange={(e) => setNuevoResultado({...nuevoResultado, numero: e.target.value})} className="w-full p-3 border-2 rounded-lg">
                        {animalitos.map(a => <option key={a.numero} value={a.numero}>{a.numero} - {a.nombre}</option>)}
                      </select>
                      <button onClick={agregarResultado} className="w-full bg-purple-600 text-white py-4 rounded-xl font-bold">üíæ Guardar</button>
                      <div className="mt-6">
                        <h3 className="font-bold mb-3">√öltimos 10 Resultados</h3>
                        <div className="space-y-2 max-h-64 overflow-y-auto">
                          {resultados.slice(-10).reverse().map(r => {
                            const a = animalitos.find(x => x.numero === r.numero);
                            return (
                              <div key={r.id} className="bg-gray-50 rounded p-3 flex justify-between items-center">
                                <div className="flex gap-3 items-center">
                                  <div className={`${a?.color} w-10 h-10 rounded-full flex items-center justify-center text-white font-bold`}>{r.numero}</div>
                                  <div>
                                    <p className="font-semibold">{a?.nombre}</p>
                                    <p className="text-xs text-gray-600">{r.fecha} - {r.horario}</p>
                                  </div>
                                </div>
                                <button onClick={() => eliminarResultado(r.id)} className="text-red-500 text-xl">üóëÔ∏è</button>
                              </div>
                            );
                          })}
                        </div>
                      </div>
                    </div>
                  )}

                  {vistaActual === 'historico' && (
                    <div className="space-y-4">
                      <div className="bg-teal-100 rounded-xl p-4">
                        <h2 className="text-xl font-bold">üìö Hist√≥rico</h2>
                        <p>Total: {resultados.length} sorteos</p>
                        <input type="date" value={fechaBusqueda} onChange={(e) => setFechaBusqueda(e.target.value)} className="w-full mt-3 p-2 border-2 rounded-lg" />
                        {fechaBusqueda && <button onClick={() => setFechaBusqueda('')} className="mt-2 bg-gray-500 text-white px-4 py-2 rounded">Limpiar</button>}
                      </div>
                      <div className="grid grid-cols-2 gap-3">
                        <button onClick={() => setSorteo('lottoactivo')} className={`p-3 rounded-lg font-semibold ${sorteo === 'lottoactivo' ? 'bg-green-600 text-white' : 'bg-gray-200'}`}>Lottoactivo</button>
                        <button onClick={() => setSorteo('granjita')} className={`p-3 rounded-lg font-semibold ${sorteo === 'granjita' ? 'bg-blue-600 text-white' : 'bg-gray-200'}`}>La Granjita</button>
                      </div>
                      <div className="space-y-2 max-h-96 overflow-y-auto">
                        {resultados.filter(r => r.sorteo === sorteo && (!fechaBusqueda || r.fecha === fechaBusqueda)).slice(-30).reverse().map(r => {
                          const a = animalitos.find(x => x.numero === r.numero);
                          return (
                            <div key={r.id} className="bg-gray-50 rounded p-3 flex justify-between items-center">
                              <div className="flex gap-3 items-center">
                                <span className="text-xs font-semibold bg-teal-600 text-white px-2 py-1 rounded">{r.horario}</span>
                                <div className={`${a?.color} w-12 h-12 rounded-full flex items-center justify-center text-white font-bold`}>{r.numero}</div>
                                <div>
                                  <p className="font-bold">{a?.nombre}</p>
                                  <p className="text-xs text-gray-600">{r.fecha}</p>
                                </div>
                              </div>
                              <button onClick={() => eliminarResultado(r.id)} className="text-red-500">üóëÔ∏è</button>
                            </div>
                          );
                        })}
                      </div>
                    </div>
                  )}

                  {vistaActual === 'resultados' && (
                    <div className="space-y-4">
                      <div className="bg-orange-100 rounded-xl p-4">
                        <h2 className="text-xl font-bold">üèÜ Resultados de Hoy</h2>
                        <p className="text-sm">{new Date().toLocaleDateString('es-ES')}</p>
                      </div>
                      <div className="grid grid-cols-2 gap-3">
                        <button onClick={() => setSorteo('lottoactivo')} className={`p-3 rounded-lg font-semibold ${sorteo === 'lottoactivo' ? 'bg-green-600 text-white' : 'bg-gray-200'}`}>Lottoactivo</button>
                        <button onClick={() => setSorteo('granjita')} className={`p-3 rounded-lg font-semibold ${sorteo === 'granjita' ? 'bg-blue-600 text-white' : 'bg-gray-200'}`}>La Granjita</button>
                      </div>
                      {getHoy().length > 0 ? (
                        <div className="space-y-2">
                          {getHoy().map(r => {
                            const a = animalitos.find(x => x.numero === r.numero);
                            return (
                              <div key={r.id} className="bg-orange-50 rounded p-3 flex items-center gap-3">
                                <span className="bg-orange-600 text-white px-3 py-2 rounded font-bold">{r.horario}</span>
                                <div className={`${a?.color} w-12 h-12 rounded-full flex items-center justify-center text-white font-bold`}>{r.numero}</div>
                                <p className="font-bold text-lg">{a?.nombre}</p>
                              </div>
                            );
                          })}
                        </div>
                      ) : <p className="text-center text-gray-500 py-8">No hay resultados hoy</p>}
                    </div>
                  )}

                  {vistaActual === 'estadisticas' && (
                    <div className="space-y-4">
                      <div className="bg-blue-100 rounded-xl p-4">
                        <h2 className="text-xl font-bold">üìä Estad√≠sticas</h2>
                        <p>Sorteos registrados: {obtenerResultadosFiltrados().length}</p>
                      </div>
                      <div className="flex gap-2 justify-center">
                        {['dia', 'semana', 'mes'].map(p => (
                          <button key={p} onClick={() => setPeriodoEstadistica(p)} className={`px-4 py-2 rounded-lg font-semibold ${periodoEstadistica === p ? 'bg-blue-600 text-white' : 'bg-gray-200'}`}>
                            {p === 'dia' ? 'Hoy' : p === 'semana' ? 'Semana' : 'Mes'}
                          </button>
                        ))}
                      </div>
                      {obtenerResultadosFiltrados().length > 0 && (
                        <>
                          <div>
                            <h3 className="font-bold mb-2">üî• Top 10 M√°s Frecuentes</h3>
                            {getTop().map((a, i) => (
                              <div key={a.numero} className="bg-green-50 rounded p-2 mb-2 flex items-center gap-3">
                                <span className="font-bold">#{i+1}</span>
                                <div className={`${a.color} w-10 h-10 rounded-full flex items-center justify-center text-white font-bold`}>{a.numero}</div>
                                <p className="flex-1">{a.nombre}</p>
                                <span className="font-bold">{a.porcentaje}%</span>
                              </div>
                            ))}
                          </div>
                          <div>
                            <h3 className="font-bold mb-2">‚ùÑÔ∏è Top 10 Menos Frecuentes</h3>
                            {getMenos().map((a, i) => (
                              <div key={a.numero} className="bg-orange-50 rounded p-2 mb-2 flex items-center gap-3">
                                <span className="font-bold">#{i+1}</span>
                                <div className={`${a.color} w-10 h-10 rounded-full flex items-center justify-center text-white font-bold`}>{a.numero}</div>
                                <p className="flex-1">{a.nombre}</p>
                                <span className="font-bold">{a.porcentaje}%</span>
                              </div>
                            ))}
                          </div>
                        </>
                      )}
                    </div>
                  )}
                </div>
                <div className="bg-white/90 rounded-xl p-4 text-sm text-center">
                  <strong>Nota:</strong> Aplicaci√≥n de entretenimiento. Juega responsablemente.
                </div>
              </div>
            </div>
          );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>

